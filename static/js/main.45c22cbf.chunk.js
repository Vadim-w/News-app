(this.webpackJsonpmews_app=this.webpackJsonpmews_app||[]).push([[0],{10:function(e,t,r){e.exports={NavbarItems:"Navbar_NavbarItems__3rj_u",NavbarItems__logo:"Navbar_NavbarItems__logo__3ksmk",NavbarItems__fabFaNews:"Navbar_NavbarItems__fabFaNews__3VhWe",NavbarItems__menuIcon:"Navbar_NavbarItems__menuIcon__q-VY0",NavbarItems__faFaBars:"Navbar_NavbarItems__faFaBars__3K12H",NavbarItems__navMenu:"Navbar_NavbarItems__navMenu__1rbD1",NavbarItems__navMenuActive:"Navbar_NavbarItems__navMenuActive__3ya70",NavbarItems__NavLinks:"Navbar_NavbarItems__NavLinks__2WNII",NavbarItems__faFaTimes:"Navbar_NavbarItems__faFaTimes__1Nimb"}},13:function(e,t,r){e.exports={modal:"Modal_modal__1BzV_",modal__bg:"Modal_modal__bg__1TN-n",modal__inner:"Modal_modal__inner__AUTht",modal__head:"Modal_modal__head__1Rcc0",modal__body:"Modal_modal__body__vlJ3z",modal__foot:"Modal_modal__foot__33vk_","disable-click":"Modal_disable-click__3sTY0",btn:"Modal_btn__1Ho_M"}},15:function(e,t,r){e.exports={formBlock:"News_formBlock__rBJxY",formBlock__errorInput:"News_formBlock__errorInput__1691k",formBlock__buttonSubmit:"News_formBlock__buttonSubmit__3Iy3U",newsBlock:"News_newsBlock__UU6BR",title:"News_title__kr74_"}},18:function(e,t,r){e.exports={postBlock:"Post_postBlock__2KqnF",postBlock__title:"Post_postBlock__title__1qYVB",postBlock__text:"Post_postBlock__text__3bpmO",postBlock__date:"Post_postBlock__date__3uWYl",postBlock__buttons:"Post_postBlock__buttons__HTyY-"}},21:function(e,t,r){e.exports={spanError:"App_spanError__37Kd4"}},30:function(e,t,r){e.exports={btn:"ButtonCommon_btn__2JDPH",error:"ButtonCommon_error__2MHuK"}},37:function(e,t,r){e.exports={inputText:"Input_inputText__2IR2o",error:"Input_error__4Pyx4"}},38:function(e,t,r){e.exports={btn:"Button_btn__oiZ53"}},40:function(e,t,r){e.exports={greetingBlock:"Main_greetingBlock__3XLPg"}},50:function(e,t,r){},56:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),c=r.n(n),o=r(24),s=r.n(o),i=(r(50),r(2)),l=r(14),u=r(21),_=r.n(u),d=r(3),b=r(10),j=r.n(b),p=[{title:"Home",url:"/"},{title:"News",url:"/news"}],m=r(38),O=r.n(m),v=function(e){var t=e.children,r=e.onClick;return Object(a.jsx)("button",{className:O.a.btn,onClick:r,children:t})},f=r(5),x={userType:"guest",isAuthorization:!1,userLogin:"",error:""},N=function(e){return{type:"SET_USER_TYPE",userType:e}},h=function(e){return{type:"SET_IS_AUTHORISATION",authorization:e}},k=function(e){return{type:"SET_USER_LOGIN",userLogin:e}},I=function(e){return{type:"SET_ERROR",error:e}},w=r(19),g=function(e){var t=e.openModalLogin,r=Object(f.c)((function(e){return e.app.isAuthorization})),c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(f.b)();return Object(a.jsxs)("nav",{className:j.a.NavbarItems,children:[Object(a.jsxs)("h1",{className:j.a.NavbarItems__logo,children:["News ",Object(a.jsx)("i",{className:j.a.NavbarItems__fabFaNews})]}),Object(a.jsx)("div",{className:j.a.NavbarItems__menuIcon,onClick:function(){i(!s)},children:Object(a.jsx)("i",{className:s?"fas fa-times ".concat(j.a.NavbarItems__faFaTimes):"fas fa-bars  ".concat(j.a.NavbarItems__faFaBars)})}),Object(a.jsx)("ul",{className:s?j.a.NavbarItems__navMenuActive:j.a.NavbarItems__navMenu,children:p.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsx)(w.b,{to:e.url,className:j.a.NavbarItems__NavLinks,children:e.title})},t)}))}),r?Object(a.jsx)(v,{onClick:function(){u(h(!1)),u(N("guest")),u(k(""))},children:"Log out"}):Object(a.jsx)(v,{onClick:t,children:"Log in"})]})},y=r(40),B=r.n(y),T=function(){var e=Object(f.c)((function(e){return e.app.isAuthorization})),t=Object(f.c)((function(e){return e.app.userLogin}));return Object(a.jsx)("div",{className:B.a.greetingBlock,children:Object(a.jsxs)("h2",{children:[" ",e?"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(t,"!"):"\u041f\u0440\u0438\u0432\u0435\u0442, \u0413\u043e\u0441\u0442\u044c!"]})})},P=r(15),E=r.n(P),S=r(37),M=r.n(S),L=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("input",{className:"".concat(M.a.inputText," ").concat(e.error&&""!==e.value?M.a.error:""),type:e.type,value:e.value,onChange:e.onChange,onKeyPress:function(t){"Enter"===t.key&&e.actionEnter&&e.actionEnter()},name:e.name,placeholder:e.placeholder})})},R=r(30),A=r.n(R),C=function(e){var t=e.value,r=e.action,n=e.mode,c=e.type,o=e.disabled;return Object(a.jsx)("button",{className:"red"===n?"".concat(A.a.btn,"  ").concat(A.a.error):A.a.btn,onClick:r,type:c,disabled:o,children:t})},F=r(29),D=r(18),U=r.n(D),z=function(e){var t=e.title,r=e.text,n=e.date,c=e.postID,o=e.approved,s=e.approvePost,i=e.deletePost,l=Object(f.c)((function(e){return e.app.userType}));return Object(a.jsxs)("div",{className:U.a.postBlock,children:[Object(a.jsx)("h3",{className:U.a.postBlock__title,children:t}),Object(a.jsx)("p",{className:U.a.postBlock__text,children:r}),Object(a.jsx)("span",{className:U.a.postBlock__date,children:n}),"admin"===l&&!o&&Object(a.jsxs)("div",{className:U.a.postBlock__buttons,children:[Object(a.jsx)(C,{value:"approve",action:function(){return s(c)}}),Object(a.jsx)(C,{value:"delete",action:function(){return i(c)},mode:"red"})]})]})},H=r(44),V=r(57),Y={news:[{id:Object(V.a)(),title:"\u041f\u043e\u0441\u0442 \u043e \u043f\u043e\u0433\u043e\u0434\u0435 1",text:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0430 \u0443\u043b\u0438\u0446\u0435 \u043f\u0440\u043e\u0445\u043b\u0430\u0434\u043d\u043e",date:"Nov 11, 2020 3:21 PM",approved:!1},{id:Object(V.a)(),title:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u043e \u043f\u043e\u0433\u043e\u0434\u0435 2",text:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0430 \u0443\u043b\u0438\u0446\u0435 \u0442\u0435\u043f\u043b\u043e",date:"Nov 11, 2020 3:00 PM",approved:!1},{id:Object(V.a)(),title:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c 1",text:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0430 \u0443\u043b\u0438\u0446\u0435 \u0436\u0430\u0440\u043a\u043e",date:"Nov 11, 2020 2:25 PM",approved:!0},{id:Object(V.a)(),title:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c 2",text:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0430 \u0443\u043b\u0438\u0446\u0435 \u0432\u0435\u0442\u0440\u0435\u043d\u043d\u043e",date:"Nov 11, 2020 2:00 PM",approved:!1},{id:Object(V.a)(),title:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c 3",text:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0430 \u0443\u043b\u0438\u0446\u0435 \u043f\u0430\u0441\u043c\u0443\u0440\u043d\u043e",date:"Nov 11, 2020 1:59 PM",approved:!0},{id:Object(V.a)(),title:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c 4",text:"\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0430 \u0443\u043b\u0438\u0446\u0435 \u044f\u0441\u043d\u043e",date:"Nov 11, 2020 1:32 PM",approved:!1}]},q=r(43),J=r.n(q),K=function(){var e=Object(F.a)({initialValues:{title:"",text:""},onSubmit:function(r){var a={id:Object(V.a)(),title:r.title,text:r.text,approved:!1,date:J()().format("lll")};t(function(e){return{type:"ADD_POST",post:e}}(a)),e.resetForm()},validate:function(e){var t={};return e.title||(t.title="Required"),e.text||(t.text="Required"),t}}),t=Object(f.b)(),r=Object(f.c)((function(e){return e.news.news})),c=Object(f.c)((function(e){return e.app.userType})),o=Object(n.useState)(r),s=Object(l.a)(o,2),u=s[0],_=s[1],d=Object(n.useState)(""),b=Object(l.a)(d,2),j=b[0],p=b[1];Object(n.useEffect)((function(){_(r)}),[r,c]);var m=Object(n.useCallback)((function(e){t(function(e){return{type:"APPROVE_POST",postID:e}}(e))}),[]),O=function(e){t(function(e){return{type:"DELETE_POST",postID:e}}(e))};"guest"===c&&(r=r.filter((function(e){return e.approved})));return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:E.a.title,children:"News"}),Object(a.jsx)("div",{children:Object(a.jsx)(L,{placeholder:"search news",value:j,onChange:function(e){var t=e.currentTarget.value.toLowerCase();p(t);var a=r.filter((function(e){return e.title.toLowerCase().indexOf(t)>-1}));_(a)},type:"text"})}),"user"===c&&Object(a.jsx)("div",{className:E.a.formBlock,children:Object(a.jsxs)("form",{children:[Object(a.jsx)(L,Object(i.a)({placeholder:"title",type:"text-area"},e.getFieldProps("title"))),e.errors.title&&Object(a.jsx)("div",{className:E.a.formBlock__errorInput,children:e.errors.title}),Object(a.jsx)(L,Object(i.a)({placeholder:"text",type:"text"},e.getFieldProps("text"))),e.errors.text&&Object(a.jsx)("div",{className:E.a.formBlock__errorInput,children:e.errors.text}),Object(a.jsx)("div",{className:E.a.formBlock__buttonSubmit,children:Object(a.jsx)(C,{disabled:!1,type:"submit",value:"add news",action:e.handleSubmit})})]})}),Object(a.jsx)("div",{className:E.a.newsBlock,children:u.map((function(e){return Object(a.jsx)(z,{postID:e.id,title:e.title,text:e.text,date:e.date,approved:e.approved,approvePost:m,deletePost:O},e.id)}))})]})},W=r(13),G=r.n(W),X=function(e){var t=e.title,r=e.children,c=e.onClose,o=e.duration,s=void 0===o?300:o,i=e.showCloseBtn,l=Object(n.useRef)(null),u=Object(n.useRef)(null),_=Object(n.useRef)(null);Object(n.useEffect)((function(){return document.body.style.overflow="hidden",l.current&&l.current.classList.add("disable-click"),u.current&&(u.current.style.transitionDuration=s+"ms"),_.current&&(_.current.style.transitionDuration=s+"ms"),setTimeout((function(){u.current&&(u.current.style.opacity="0.2"),_.current&&(_.current.style.opacity="1",_.current.style.top="0")}),20),setTimeout((function(){l.current&&l.current.classList.remove("disable-click")}),s+20),function(){document.body.style.overflow="visible"}}),[s]);var d=function(){l.current&&l.current.classList.add("disable-click"),u.current&&(u.current.style.opacity="0"),_.current&&(_.current.style.opacity="0",_.current.style.top="-100px"),setTimeout((function(){l.current&&l.current.classList.remove("disable-click"),c()}),s)};return Object(a.jsxs)("div",{className:G.a.modal,ref:l,children:[Object(a.jsx)("div",{className:G.a.modal__bg,onClick:d,ref:u}),Object(a.jsxs)("div",{className:G.a.modal__inner,ref:_,children:[Object(a.jsxs)("div",{className:G.a.modal__head,children:[Object(a.jsx)("h2",{children:t}),i&&Object(a.jsx)("button",{className:G.a.btn,onClick:d,children:"\xd7"})]}),Object(a.jsx)("div",{className:G.a.modal__body,children:r}),Object(a.jsx)("div",{className:G.a.modal__foot})]})]})};var Z=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],c=t[1],o=Object(f.c)((function(e){return e.app.error})),s=Object(f.b)(),u=Object(F.a)({initialValues:{login:"",password:""},onSubmit:function(e){"Admin"===e.login&&"passwordAdmin"===e.password?(s(N("admin")),s(h(!0)),s(k(e.login)),c(!1),s(I(""))):"User"===e.login&&"passwordUser"===e.password?(s(N("user")),s(h(!0)),s(k(e.login)),c(!1),s(I(""))):s(I("Incorrect login or password")),u.resetForm()},validate:function(e){var t={};return e.login||(t.login="Required"),e.password||(t.password="Required"),t}});return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(g,{openModalLogin:function(){c(!0)}}),Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/",render:function(){return Object(a.jsx)(T,{})}}),Object(a.jsx)(d.a,{path:"/news",render:function(){return Object(a.jsx)(K,{})}}),Object(a.jsx)(d.a,{path:"*",render:function(){return Object(a.jsx)("h1",{children:"404"})}})]}),r&&Object(a.jsx)(X,{title:"Log in",onClose:function(){c(!1)},duration:600,showCloseBtn:!0,children:Object(a.jsxs)("div",{className:"styles.loginForm",children:[Object(a.jsxs)("form",{children:[Object(a.jsx)(L,Object(i.a)({placeholder:"Login",type:"text"},u.getFieldProps("login"))),u.errors.login&&Object(a.jsx)("div",{className:_.a.spanError,children:u.errors.login}),Object(a.jsx)(L,Object(i.a)({placeholder:"Password",type:"password"},u.getFieldProps("password"))),u.errors.password&&Object(a.jsx)("div",{className:_.a.spanError,children:u.errors.password}),Object(a.jsx)("div",{children:Object(a.jsx)(C,{value:"login",action:u.handleSubmit})})]}),o&&Object(a.jsx)("span",{className:_.a.spanError,children:o})]})})]})},Q=r(22),$=Object(Q.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_TYPE":return Object(i.a)(Object(i.a)({},e),{},{userType:t.userType});case"SET_IS_AUTHORISATION":return Object(i.a)(Object(i.a)({},e),{},{isAuthorization:t.authorization});case"SET_USER_LOGIN":return Object(i.a)(Object(i.a)({},e),{},{userLogin:t.userLogin});case"SET_ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{news:e.news.filter((function(e){return e.id!==t.postID}))});case"ADD_POST":return Object(i.a)(Object(i.a)({},e),{},{news:[t.post].concat(Object(H.a)(e.news))});case"APPROVE_POST":return Object(i.a)(Object(i.a)({},e),{},{news:e.news.map((function(e){return e.id===t.postID?Object(i.a)(Object(i.a)({},e),{},{approved:!0}):e}))});default:return e}}}),ee=Object(Q.c)($);window.store=ee,s.a.render(Object(a.jsx)(w.a,{children:Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(f.a,{store:ee,children:Object(a.jsx)(Z,{})})})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.45c22cbf.chunk.js.map